(function(f){if(typeof console=="undefined")console={log:function(){}};var e=function(a,b){return function(){return b.apply(a,arguments)}},g={Request:function(a,b){this.getTransport=function(){try{return new XMLHttpRequest}catch(c){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(h){}try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(i){}alert("XMLHttpRequest not supported")};this.opts=b;this.transport=this.getTransport();this.timeout=setTimeout(e(this,function(){this.transport.abort()}),
this.opts.wait);this.transport.open("get",a,true);this.transport.onreadystatechange=e(this,function(){if(this.transport.readyState==4){clearTimeout(this.timeout);if(this.transport.status!=200)this.opts.onFailure&&this.opts.onFailure(this.transport);else this.opts.onSuccess&&this.opts.onSuccess(this.transport)}});this.transport.send(null)}},d=function(a){var b=+"{{now}}";new g.Request(f,{wait:a,onSuccess:function(c){(JSON&&JSON.parse(c.responseText)||eval("("+c.responseText+")")).changed>b?location.reload(false):
setTimeout(function(){d(a)},1500)},onFailure:function(){setTimeout(function(){d(a)},1500)}})};window["-plackAutoRefresh-"]||(window["-plackAutoRefresh-"]=1)&&d(+"{{wait}}")})("{{url}}/{{now}}");
